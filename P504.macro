; This is a helper function for moving to safe position from outside the keepout
; May be turned into a osub call in the future
#<direct> = #17

; Update and validate TLS / safe location
G65 P512

G53 G0 Z[#<_tc_safe_z>]

; Check current position > safe
o100 if [#<_abs_y> GE #<_tc_safe_y> AND #<direct> NE 1]
    ; Current position adjacent to rack
    G53 G0 Y[#<_tc_safe_y>]
o100 endif

G53 G0 X[#<_tc_safe_x>] Y[#<_tc_safe_y>]
G4 P0;